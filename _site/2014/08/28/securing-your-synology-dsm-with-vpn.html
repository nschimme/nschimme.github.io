<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Securing Your Synology DSM with VPN | Your awesome title</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="Securing Your Synology DSM with VPN" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Bugs and exploits are a natural part of this world. The Synolocker ransomware was recently running rampant and hacking into Synology devices running DSM 4.3 and below. It did this by identifying your device if ports 5000 or 5001 were exposed and then exploiting a bug to implant itself. The only fool-proof solution to preventing being exploited permanently is to be paranoid. Shut down all unnecessary Synology services and never expose any ports to the web. This is far from a convenient solution though. For example, I still want to share access to my Synology device because it hosts a few websites for my family. This required me to find a good balance between security and availability. I decided that the best way to do this was to install the Synology VPN service and use a L2TP/IPSec VPN. I would only expose ports 80, 443 for web serving and ports 1701, 500, and 4500 for VPN. The following tutorial was very helpful: https://www.synology.com/en-global/knowledgebase/DSM/help/VPNCenter/vpn_setup After a client connects to the VPN they should be able to access ports 5000 and 5001 because they were underneath my firewall. Better yet, all traffic between the client and the Synology device will be encrypted. Edit: If you&rsquo;re interested in adding HTTPS to your Synology please take a look at this post." />
<meta property="og:description" content="Bugs and exploits are a natural part of this world. The Synolocker ransomware was recently running rampant and hacking into Synology devices running DSM 4.3 and below. It did this by identifying your device if ports 5000 or 5001 were exposed and then exploiting a bug to implant itself. The only fool-proof solution to preventing being exploited permanently is to be paranoid. Shut down all unnecessary Synology services and never expose any ports to the web. This is far from a convenient solution though. For example, I still want to share access to my Synology device because it hosts a few websites for my family. This required me to find a good balance between security and availability. I decided that the best way to do this was to install the Synology VPN service and use a L2TP/IPSec VPN. I would only expose ports 80, 443 for web serving and ports 1701, 500, and 4500 for VPN. The following tutorial was very helpful: https://www.synology.com/en-global/knowledgebase/DSM/help/VPNCenter/vpn_setup After a client connects to the VPN they should be able to access ports 5000 and 5001 because they were underneath my firewall. Better yet, all traffic between the client and the Synology device will be encrypted. Edit: If you&rsquo;re interested in adding HTTPS to your Synology please take a look at this post." />
<link rel="canonical" href="http://localhost:4000/2014/08/28/securing-your-synology-dsm-with-vpn.html" />
<meta property="og:url" content="http://localhost:4000/2014/08/28/securing-your-synology-dsm-with-vpn.html" />
<meta property="og:site_name" content="Your awesome title" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2014-08-28T15:46:00-07:00" />
<script type="application/ld+json">
{"description":"Bugs and exploits are a natural part of this world. The Synolocker ransomware was recently running rampant and hacking into Synology devices running DSM 4.3 and below. It did this by identifying your device if ports 5000 or 5001 were exposed and then exploiting a bug to implant itself. The only fool-proof solution to preventing being exploited permanently is to be paranoid. Shut down all unnecessary Synology services and never expose any ports to the web. This is far from a convenient solution though. For example, I still want to share access to my Synology device because it hosts a few websites for my family. This required me to find a good balance between security and availability. I decided that the best way to do this was to install the Synology VPN service and use a L2TP/IPSec VPN. I would only expose ports 80, 443 for web serving and ports 1701, 500, and 4500 for VPN. The following tutorial was very helpful: https://www.synology.com/en-global/knowledgebase/DSM/help/VPNCenter/vpn_setup After a client connects to the VPN they should be able to access ports 5000 and 5001 because they were underneath my firewall. Better yet, all traffic between the client and the Synology device will be encrypted. Edit: If you&rsquo;re interested in adding HTTPS to your Synology please take a look at this post.","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2014/08/28/securing-your-synology-dsm-with-vpn.html"},"@type":"BlogPosting","url":"http://localhost:4000/2014/08/28/securing-your-synology-dsm-with-vpn.html","headline":"Securing Your Synology DSM with VPN","dateModified":"2014-08-28T15:46:00-07:00","datePublished":"2014-08-28T15:46:00-07:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Your awesome title" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Your awesome title</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Securing Your Synology DSM with VPN</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2014-08-28T15:46:00-07:00" itemprop="datePublished">Aug 28, 2014
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p><figure data-orig-width="482" data-orig-height="179"><img src="https://66.media.tumblr.com/d75ecef24765882d39906e4932f985e2/tumblr_inline_nn71pftEjL1rkukje_540.png" alt="image" data-orig-width="482" data-orig-height="179"/></figure></p><p>Bugs and exploits are a natural part of this world. The <a href="http://www.anandtech.com/show/8337/synology-advises-users-of-synolocker-ransomware">Synolocker ransomware</a> was recently running rampant and hacking into Synology devices running DSM 4.3 and below. It did this by identifying your device if ports 5000 or 5001 were exposed and then exploiting a bug to implant itself.</p>
<p>The only fool-proof solution to preventing being exploited permanently is to be paranoid. Shut down all unnecessary Synology services and never expose any ports to the web. This is far from a convenient solution though. For example, I still want to share access to my Synology device because it hosts a few websites for my family. This required me to find a good balance between security and availability.</p>
<p>I decided that the best way to do this was to install the Synology VPN service and use a L2TP/IPSec VPN. I would only expose ports 80, 443 for web serving and ports 1701, 500, and 4500 for VPN. The following tutorial was very helpful:</p>
<p><a href="https://www.synology.com/en-global/knowledgebase/DSM/help/VPNCenter/vpn_setup">https://www.synology.com/en-global/knowledgebase/DSM/help/VPNCenter/vpn_setup</a></p>
<p>After a client connects to the VPN they should be able to access ports 5000 and 5001 because they were underneath my firewall. Better yet, all traffic between the client and the Synology device will be encrypted.</p>
<p>
<i>Edit:</i> If you&rsquo;re interested in adding HTTPS to your Synology please take a look at <a href="http://nils.schimmelmann.us/2019/10/24/2014-07-20-i-bought-a-domain-for-my-synology-nas.html">this</a> post.
</p>

  </div><a class="u-url" href="/2014/08/28/securing-your-synology-dsm-with-vpn.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Your awesome title</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Your awesome title</li><li><a class="u-email" href="mailto:your-email@example.com">your-email@example.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/jekyll"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">jekyll</span></a></li><li><a href="https://www.twitter.com/jekyllrb"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">jekyllrb</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
