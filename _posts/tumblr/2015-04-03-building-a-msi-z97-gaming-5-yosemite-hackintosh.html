---
layout: post
title: Building a MSI Z97-Gaming 5 Yosemite Hackintosh
date: '2015-04-03T23:08:10-07:00'
tags:
- hackintosh
- tonymacx86
- osx
- mac
- hacking
tumblr_url: https://nils.schimmelmann.us/post/115458247217/building-a-msi-z97-gaming-5-yosemite-hackintosh
---
<p><figure data-orig-width="670" data-orig-height="438"><img src="/tumblr_files/tumblr_inline_nm9r4wZzyZ1rkukje_540.png" alt="image" data-orig-width="670" data-orig-height="438"/></figure></p><p>I have been building computers ever since my uncle helped me build my first PC at age 13. The fascination of installing, tuning, and then finally using the machine has been a vice that I have been enjoying ever since. I have now built over a dozen Linux and Windows PCs over the years but the <i><b>☼</b>perfect hackintosh<b>☼</b></i> has always eluded me.</p><p>For those of you who don’t usually mess with the internals of computers, a hackintosh is essentially a standard commodity Windows PC running the OS X which powers MacBooks and iMacs. </p><p>Why do people go through such lengths to have OS X? It’s mostly preference, but in my case I’m doing this for my own personal education and curiosity. </p>

<!-- more --><hr><p><b>Step 1) Purchasing the Right Hardware</b><br/></p><p>I’ve tried building a hackintosh in the past but was always stricken by incompatibility errors that resulted in kernel crashes similar to the dread blue screen of death. The happens because Apple has complete control of the hardware and software stack, and because of that takes a lot of hardware features for granted. If your hardware isn’t exactly compatible, then you need to hack the low-level BIOS software (usually using a DSDT patch) to try to make it compatible with OS X. This is as painful as it sounds so its significantly easier just to buy the right hardware in the first place. Luckily TonyMacX86 as great guides that list out <a href="http://www.tonymacx86.com/building-customac-buyers-guide-march-2015.html">which hardware</a> is best supported but I still needed to buy this hardware and convince myself that the project was worth the cost.</p><p>Luckily, I knew of <a href="http://slickdeals.net/f/7720487-microcenter-msi-z97-gaming-5-free-after-rebate-with-purchase-of-i5-4690k-or-i7-4790k-b-m?v=1">Slickdeals</a> and <a href="http://www.reddit.com/r/buildapcsales/comments/2yn2hp/mobo_msi_z97_gaming_5_motherboard_free_with/">/r/buildapcsales</a>, which led me to a<a href="http://www.reddit.com/r/buildapcsales/comments/2yn2hp/mobo_msi_z97_gaming_5_motherboard_free_with/"> great deal </a>on a <a href="http://www.msi.com/product/mb/Z97-GAMING-5.html#hero-specification">MSI Z97-Gaming 5 motherboard</a> and <a href="http://ark.intel.com/products/80811/Intel-Core-i5-4690K-Processor-6M-Cache-up-to-3_90-GHz">Intel 4690K Core i5 processor</a> combination that also was highly compatible for hackintoshes per the TonyMacX86 hardware guide. If you’re in the market to buy a PC, I strongly urge you to start subscribing to this subreddit for deals. I have found numerous enabling deals  that provoked me to embark projects such as my foray into water cooling (which I’ll write on a post later).</p><p>In the end, I purchased the following parts to complete some of spares that I already had from my workstation. The Crucial BX100 SSD was selected because of its excellent price/performance ratio and the history of its bigger brother the MX100. I selected the older <a href="http://gpushack.com/collections/all-gpus-for-sale/products/his-iceq-hd-7950-boost">Radeon 7950 video card</a> for my build because widely known to be compatible in hackintoshes and still provides plenty of punch for gaming (so much that it was branded as the R9 280 and is still widely sold). I highly recommend <a href="http://gpushack.com/">gpuShack </a>for your video card purchase since you’ll get a great price and an awesome warranty. Lastly, the TP-Link wireless card was recommended on TonyMac for its native wireless support and having used non-native wireless USB cards I can easily attest that its well worth it.<br/></p><p><a href="http://pcpartpicker.com/part/intel-cpu-bx80646i54690k">Intel Core i5-4690K 3.5GHz Quad-Core Processor</a><br/><a href="http://pcpartpicker.com/part/msi-motherboard-z97gaming5">MSI Z97-GAMING 5 ATX LGA1150 Motherboard</a><br/><a href="http://pcpartpicker.com/part/crucial-internal-hard-drive-ct250bx100ssd1">Crucial BX100 250GB 2.5&quot; Solid State Drive</a><br/><a href="http://pcpartpicker.com/part/his-video-card-h795qc3g2m">HIS Radeon HD 7950 3GB Video Card</a><br/><a href="http://pcpartpicker.com/part/tp-link-wireless-network-card-tlwdn4800">TP-Link TL-WDN4800 802.11a/b/g/n PCI-Express x1 Wi-Fi Adapter</a></p>

<hr><p><b>Step 2) Configuring the BIOS</b><br/></p><p>
You need to setup the BIOS so that it is Mac compatible. To access UEFI Setup, press and hold Delete on a USB Keyboard while the system is booting up.
</p><p>
Perform the following commands:
</p><ol><li>Settings - Save &amp; Exit - Restore Defaults.</li>
<li>OC Settings - CPU Features - Disable Intel VT-d</li>
<li>OC Settings - CPU Features - Disable CFG lock</li>
<li>Save and exit.
</li></ol><hr><p><b>Step 3) Installing the OS</b><br/></p><p>For installing the Mac OS X I first followed <a href="http://www.tonymacx86.com/yosemite-desktop-guides/143976-unibeast-install-os-x-yosemite-any-supported-intel-based-pc.html">the official guide on TonyMacX86</a> to create the installation USB stick. After having that, I followed the <a href="http://www.tonymacx86.com/yosemite-desktop-guides/144426-how-install-os-x-yosemite-using-clover.html">Clover guide</a> to install everything. If you follow the instructions you shouldn’t have too much trouble.</p><p>However, in the end I had to apply the following additional fixes. Most of these fixes are distilled from this dated <a href="http://www.reddit.com/r/hackintosh/comments/2bvggr/hack_complete_4790k_z97_780ti_a_bit_of_a/">reddit post</a> and <a href="http://www.tonymacx86.com/user-builds/158358-success-msi-z97-gaming-5-i5-4690k-clover.html">forum post</a> to which I owe a lot. Please download the following tools to get started:</p><ol><li><a href="http://www.tonymacx86.com/downloads.php?do=file&amp;id=254">MultiBeast</a> - Ethernet</li><li><a href="http://www.hackintoshosx.com/files/download/49-clover-configurator/">Clover Configurator</a> - fixing sleep and USB 3.0</li><li><a href="http://sourceforge.net/projects/maciasl/">MaciASL</a> - HDMI audio</li><li><a href="https://github.com/toleda/audio_CloverALC/blob/master/audio_cloverALC-100.command.zip">Toleda audio_CloverALC</a> (click “View Raw”) - audio<br/></li></ol><p><b>Ethernet</b></p><p>Launch the latest Multibeast (minimum 7.2.0) and install the following:</p><ol><li>Optional EFI Installed Bootloader Support<br/></li><li>Intel 9 Series Motherboard Support</li><li>AtherosE2200Ethernet</li></ol><p><b>Audio</b></p><p>To get HDMI or DisplayPort audio to work you will need to patch your DSDT with MaciASL.</p><p>Open MaciASL, go to Preferences -&gt; iASL and change the compiler options to ACPI 5.0. Afterwards, go to Preferences &gt; Sources and add the following URLs:</p><p><a href="https://raw.githubusercontent.com/toleda/audio_hdmi_9series/master">https://raw.githubusercontent.com/toleda/audio_hdmi_9series/master</a><br/><a href="http://maciasl.sourceforge.net/pjalm/repos/intel9/">http://maciasl.sourceforge.net/pjalm/repos/intel9/</a></p><p>Apply these patches:</p><ol><li>AMI-Clean_Compile-9series</li><li>AMI-Enable_LPC-9series</li><li>Generic Fixes</li><li>Insert DTGP</li><li>Insert MDHC</li><li>Insert SMBus</li></ol><p>Compile and save your patched DSDT with the ACPI Machine Language Binary format to <b>/EFI/CLOVER/ACPI/patched/DSDT.aml</b></p><p>You may need to mount your EFI partition with Clover Configuration to be able to do this.<br/></p><p>Unzip the <a href="https://github.com/toleda/audio_CloverALC">Toleda audio_cloverALC</a> script and run it in your terminal. The directions are pretty easy to follow but make sure your EFI partition is mounted.</p><p>If this doesn’t work you can also use Multibeast to install the ALC1150 kext but your audio will break with each OS X update.</p><p><b>Power and Sleep</b><br/></p><p>Download <a href="https://bitbucket.org/RehabMan/os-x-generic-usb3/downloads">GenericUSBXHCI.kext</a> to copy it to your desktop. Run <a href="http://tonymacx86.blogspot.com/2010/08/kextbeast-simple-kext-installer.html">KextBeast</a> to install the USB 3.0 kext. </p><p>Open up Clover Configurator and load your <i>config.plist </i>located under <b>EFI/Clover</b>. Once your configuration has been loaded navigate over to the <b>Acpi</b> tab and check mark <i>Generate PStates</i> and <i>Generate CStates</i></p><figure data-orig-width="1306" data-orig-height="744" class="tmblr-full"><img src="/tumblr_files/tumblr_inline_nm9r5iqdF91rkukje_540.png" alt="image" data-orig-width="1306" data-orig-height="744"/></figure><p>Under <b>Boot</b> check mark <i>xcpm</i>, <i>gux_no_idle</i>, and <i>gux_defer_usb2</i></p><figure data-orig-width="1290" data-orig-height="735" class="tmblr-full"><img src="/tumblr_files/tumblr_inline_nm9r5pQmfi1rkukje_540.png" alt="image" data-orig-width="1290" data-orig-height="735"/></figure><p>Under <b>Devices</b> check mark <i>Inject</i> and <i>Add ClockID</i></p><figure data-orig-width="1290" data-orig-height="735" class="tmblr-full"><img src="/tumblr_files/tumblr_inline_nm9rbvHwB41rkukje_540.png" alt="image" data-orig-width="1290" data-orig-height="735"/></figure><p>Save your configuration.</p><p><b>Step 4) Backup</b></p><p>Select a <a href="http://www.tonymacx86.com/general-help/70173-backup-solutions-your-mac-customac.html">backup tool</a> (Super Duper seems to be the current favorite) and make a backup of your hackintosh. Updates often can crash your hackintosh so its a good idea keep a backup always fresh before you try updating the OS.</p><hr><p>Congratulations, You should have a functioning hackintosh! Let me know if you had any troubles and I’ll try my best to help :-)</p><p><i>Note: All of the information found here was made possible by the vibrant community of hackers and hobbyists at <a href="http://www.tonymacx86.com/">TonyMacX86</a>, <a href="http://www.macbreaker.com/">MacBreaker</a>, and <a href="http://www.reddit.com/r/hackintosh">/r/Hackintosh</a>. Thank you!</i><br/></p>
